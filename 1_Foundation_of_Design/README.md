# 1\_Foundation\_of\_Design

## 1단계: HLS 설계의 기초

---

##  실습 개요

이 실습에서는 **High-Level Synthesis (HLS)** 설계의 기초를, 아주 간단한 예제인 **벡터의 원소별 곱셈**을 통해 배워봅니다.
다음과 같은 HLS의 기본 흐름을 실습하며 익히게 됩니다:

* Vitis HLS 명령어를 이용한 설계 방법
* HLS 설계 플로우의 전반적인 구조 이해:

  * **C 코드 컴파일**: C/C++ 소스 코드를 실행 가능한 형태로 컴파일
  * **C 시뮬레이션 (csim)**: 코드가 제대로 동작하는지 기능적으로 검증
  * **C 합성 (csynth)**: C 코드에서 RTL (Verilog/VHDL) 생성
  * **C/RTL 공동 시뮬레이션 (cosim)**: 생성된 RTL이 원래 C 기능과 일치하는지 확인
  * **RTL 구현 (export)**: 실제 FPGA용 비트스트림 생성
  * 합성 결과 리포트 읽는 법 (지연 시간, 자원 사용 등)

---

##  실습 진행 방법

### 1. HLS 합성 및 XCLBIN 생성하기

터미널에서 아래 명령을 실행하세요:

```bash
make
```

이 명령은 내부적으로 다음 작업들을 자동으로 수행합니다:

* C 합성 (RTL 생성)
* RTL 배치 및 라우팅 (조금 시간이 걸릴 수 있어요!)
* 최종 .xo, .xclbin 생성

---

### 2.최종 .xo, .xclbin 생성

아래 폴더들에서 결과 보고서를 확인할 수 있습니다:

* 📄 **C 합성 보고서**
  → `project_1/solution1/syn/report`

* 📄 **공동 시뮬레이션 보고서 (cosim)**
  → `project_1/solution1/sim/report`

* 📄 **최종 구현 (Implementation) 결과**
  → `project_1/solution1/impl/report/verilog/export_impl.rpt`

---

##  탐구해보기: 설계 실험 및 질문

### 1. 현재 설계 성능은 어떤가요?

* 합성 보고서를 참고해서 지연 시간, 자원 사용량을 요약해보세요.
* 특히 **최종 구현 기준 (post-implementation)** 결과를 기반으로 판단해야 실제 FPGA에 구현 가능한지 알 수 있어요.

---

### 2. 성능 향상을 위한 pragma 실험

다음과 같은 HLS 지시문(`pragma`)을 사용하여 연산 속도를 개선해보세요:

```cpp
#pragma HLS array_partition
#pragma HLS unroll
```

#### 생각해보는 질문:

* 어떤 배열에 `array_partition`을 적용했나요?
* 그 배열은 **DRAM에 저장되는 배열인가요, BRAM에 저장되는 배열인가요?**
* DRAM에 있는 배열은 `partition`이 불가능한데, 이런 경우에는 어떻게 해야 할까요?

---

### 3. 데이터 타입을 변경해보면?

예를 들어 `float` 대신 `double`을 쓰면 어떤 변화가 있나요?

* 지연 시간?
* 자원 사용량?

---

### 4. 확장 실험

벡터의 크기를 `100` → `10,000,000`으로 증가시키며 성능 최적화가 여전히 유효한지 살펴보세요.

#### 추가로 생각해보기:

* 적용한 pragma가 대용량 설계에서도 효과가 있었나요?
* 없다면, 어떤 개선 방안을 고려할 수 있을까요?
